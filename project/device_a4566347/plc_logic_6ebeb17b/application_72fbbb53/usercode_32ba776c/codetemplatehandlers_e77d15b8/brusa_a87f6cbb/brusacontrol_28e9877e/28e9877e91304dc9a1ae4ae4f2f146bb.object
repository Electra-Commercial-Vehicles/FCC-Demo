{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)28e9877e-9130-4dc9-a1ae-4ae4f2f146bb","ParentGuid":"(Guid)72fbbb53-2a88-4ed3-8712-bbc040dc684e","Name":"(string)BrusaControl","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)829a18f2-c514-4f6e-9634-1df173429203","@Value":{"@Type":"829a18f2","@Value":{"ParentObjects":{"@Type":"fa2ee218:IDictionary","@Value":[{"@Key":"(Guid)d9b2b2cc-ea99-4c3b-aa42-1e5c49e65b84","@Value":"(Guid)a87f6cbb-96c5-474e-8d60-74d148d5368b"}]}}}}]},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","829a18f2":"{829a18f2-c514-4f6e-9634-1df173429203}","fa2ee218":"{fa2ee218-a39b-4b6d-b249-49dbddbd168a}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextLines":{"@Type":"[a5de0b0b]","@Value":[{"@Type":"a5de0b0b","@Value":{"Id":"(long)549","Tag":null,"Text":"(string)(*===================================================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)550","Tag":null,"Text":"(string)(* Charger state machine                                                                             *)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)551","Tag":null,"Text":"(string)(*===================================================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)552","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)553","Tag":null,"Text":"(string)// Discuss error clearing - looks like error clear message is always set to false"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)554","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)555","Tag":null,"Text":"(string)(* Handle charge lock request =======================================================================*)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)556","Tag":null,"Text":"(string)IF (StopChargeReq) THEN                        // Move to standy if charge stop requested from HMI"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)557","Tag":null,"Text":"(string)\tStopCharging := TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)558","Tag":null,"Text":"(string)ELSIF (StopCharging AND NOT ProximityDet) THEN // Only allow charging once the charge plug has been removed and reinserted"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)559","Tag":null,"Text":"(string)\tStopCharging := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)560","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)561","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)562","Tag":null,"Text":"(string)CASE ChargerStates.Step OF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)563","Tag":null,"Text":"(string)(* Sleep state ======================================================================================*)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)564","Tag":null,"Text":"(string)_Sleep:"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)565","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)566","Tag":null,"Text":"(string)\tUnlock := TRUE;                           // Unlock charge plug"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)567","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)568","Tag":null,"Text":"(string)\tIF (StateAct <> 0) THEN                   // Moved out of sleep state into wakeup state"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)569","Tag":null,"Text":"(string)\t\tChargerStates.Next := _Standby;       // Move to standby state "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)570","Tag":null,"Text":"(string)\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)571","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)572","Tag":null,"Text":"(string)(* Standby state ====================================================================================*)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)573","Tag":null,"Text":"(string)_Standby:"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)574","Tag":null,"Text":"(string)\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)575","Tag":null,"Text":"(string)\tUnlock := TRUE;                                          // Unlock charge plug"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)576","Tag":null,"Text":"(string)\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)577","Tag":null,"Text":"(string)\tIF OkToCharge() THEN                                     // Charging conditions OK (If charging conditions are met then lock should engage automatically)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)578","Tag":null,"Text":"(string)\t\tUnlock := FALSE;                                     // Allow charger to lock"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)579","Tag":null,"Text":"(string)\t\tIF (StateAct = NLG_STATUS_READY2CHARGE) OR (StateAct = NLG_STATUS_CHARGE) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)580","Tag":null,"Text":"(string)\t\tChargerStates.Next := _Charging;                     // Move to charging state"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)581","Tag":null,"Text":"(string)\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)582","Tag":null,"Text":"(string)\tELSIF (Error) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)583","Tag":null,"Text":"(string)\t\tChargerStates.Next := _Error;                        // Move to error state"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)584","Tag":null,"Text":"(string)\tELSIF (StateAct = NLG_STATUS_SLEEP) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)585","Tag":null,"Text":"(string)\t\tChargerStates.Next := _Sleep;                        // Move to sleep state"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)586","Tag":null,"Text":"(string)\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)587","Tag":null,"Text":"(string)\t\tStateDem :=\tNLG_CONTROL_STANDBY;                     // Set STANDBY state"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)588","Tag":null,"Text":"(string)\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)589","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)590","Tag":null,"Text":"(string)(* Charging state ===================================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)591","Tag":null,"Text":"(string)_Charging:"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)592","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)593","Tag":null,"Text":"(string)\tStateDem :=\tNLG_CONTROL_CHARGE;          // Set CHARGING state "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)594","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)595","Tag":null,"Text":"(string)\tIF NOT (OkToCharge()) THEN               // If not ok to charge check for errors"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)596","Tag":null,"Text":"(string)\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)597","Tag":null,"Text":"(string)\t\tIF (Error) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)598","Tag":null,"Text":"(string)\t\t\tChargerStates.Next := _Error;    // Move to error state "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)599","Tag":null,"Text":"(string)\t\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)600","Tag":null,"Text":"(string)\t\t\tChargerStates.Next := _Standby;  // Move back to standby state "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)601","Tag":null,"Text":"(string)\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)602","Tag":null,"Text":"(string)\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)603","Tag":null,"Text":"(string)\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)604","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)605","Tag":null,"Text":"(string)(* Error state ======================================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)606","Tag":null,"Text":"(string)_Error:"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)607","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)608","Tag":null,"Text":"(string)\t\tIF (OkToReset()) THEN\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)609","Tag":null,"Text":"(string)\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)610","Tag":null,"Text":"(string)\t\t\tErrorClearOut := SEL((ChargerStates.Tmr < 100), FALSE, TRUE); // Request error clear"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)611","Tag":null,"Text":"(string)\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)612","Tag":null,"Text":"(string)\t\t\tIF (ChargerStates.Tmr > 6000) THEN   // 1 min - charger requires 1 min to attempt automatic recovery or temp recovery"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)613","Tag":null,"Text":"(string)\t\t\t\tResetCnt   := ResetCnt +1;       // Increment reset count"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)614","Tag":null,"Text":"(string)\t\t\t\tChargerStates.Next := _Standby;  // Move back to Standby state\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)615","Tag":null,"Text":"(string)\t\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)616","Tag":null,"Text":"(string)\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)617","Tag":null,"Text":"(string)\t\tEND_IF\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)618","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)619","Tag":null,"Text":"(string)END_CASE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)621","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)622","Tag":null,"Text":"(string)(*Set the DC current limit depending on balancing status ==========================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)623","Tag":null,"Text":"(string)DCHVCurrLimMax := SEL( BalancingActive, CCL, MIN(CCL, Balancing_Amps));"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)624","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)625","Tag":null,"Text":"(string)(*Set the AC current limit based on the wire that is plugged in ===================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)626","Tag":null,"Text":"(string)IF (Brusa1_Rx.ACCurrMaxPP = PP_32A) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)627","Tag":null,"Text":"(string)\tCurrentLimit\t:=\tMIN(15, ((CPMaxAmps/20)-1));    // Div by 200 to get single side and A from mA, then -1 for lead acid battery"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)628","Tag":null,"Text":"(string)ELSIF (Brusa1_Rx.ACCurrMaxPP = PP_64A) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)629","Tag":null,"Text":"(string)\tCurrentLimit\t:=\tMIN(28, ((CPMaxAmps/20)-1));    // Div by 200 to get single side and A from mA, then -1 for lead acid battery"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)630","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)631","Tag":null,"Text":"(string)\tCurrentLimit\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)632","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)644","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)648","Tag":null,"Text":"(string)(* Delay charge and then ramp current up to max - Add 50mA each scan ==============================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)662","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)661","Tag":null,"Text":"(string)// If available currrent limit drops then drop requested current immediately"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)658","Tag":null,"Text":"(string)IF (ACCurrLimMax > CurrentLimit) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)665","Tag":null,"Text":"(string)\tACCurrLimMax := CurrentLimit;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)668","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)669","Tag":null,"Text":"(string)// If available current is less than requested increase by 50mA each scan (e.g. 30Amps achieved in 6s)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)666","Tag":null,"Text":"(string)ELSIF (ACCurrLimMax < CurrentLimit) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)667","Tag":null,"Text":"(string)\tACCurrLimMax := ACCurrLimMax + 0.005;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)672","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)670","Tag":null,"Text":"(string)// Otherwise request the maximum allowable current"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)663","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)671","Tag":null,"Text":"(string)\tACCurrLimMax := CurrentLimit;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)664","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)633","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)634","Tag":null,"Text":"(string)(* Limit maximum voltage to be delivered to each pack =============================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)635","Tag":null,"Text":"(string)DCHVVoltLimMax\t:=\t(MaxChargingVolts); // - OffSet_Charge_Voltage); "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)636","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)637","Tag":null,"Text":"(string)Update(ADR(ChargerStates));                                     // State machine update"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)638","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)9","Tag":null,"Text":"(string)"}}]}}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextLines":{"@Type":"[a5de0b0b]","@Value":[{"@Type":"a5de0b0b","@Value":{"Id":"(long)368","Tag":null,"Text":"(string)(*===================================================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)369","Tag":null,"Text":"(string)(* Charger Control                                                                                   *)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)370","Tag":null,"Text":"(string)(*===================================================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)371","Tag":null,"Text":"(string)FUNCTION_BLOCK BrusaControl"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)372","Tag":null,"Text":"(string)VAR_INPUT"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)373","Tag":null,"Text":"(string)(*Variable inputs ===================================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)374","Tag":null,"Text":"(string)\tMaster                  : BOOL;             // Master?"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)375","Tag":null,"Text":"(string)\tSafety_OK               : BOOL;             // Battery safety ok signal"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)376","Tag":null,"Text":"(string)\tCtrlPilotDet            : BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)377","Tag":null,"Text":"(string)\tProximityDet            : BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)378","Tag":null,"Text":"(string)\tError                   : BOOL;             // Brusa error"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)379","Tag":null,"Text":"(string)\tACDet                   : BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)380","Tag":null,"Text":"(string)\tBalancingActive         : BOOL; "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)487","Tag":null,"Text":"(string)\tStopChargeReq           : BOOL;             // Request to stop charging"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)381","Tag":null,"Text":"(string)\tSysState                : BYTE;             // System state"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)382","Tag":null,"Text":"(string)\tStateAct                : BYTE;             // Brusa recieved state"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)383","Tag":null,"Text":"(string)\tStatus                  : BYTE;             // Status PP?"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)384","Tag":null,"Text":"(string)\tBalancing_Amps          : REAL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)385","Tag":null,"Text":"(string)\tOffSet_Charge_Voltage   : REAL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)386","Tag":null,"Text":"(string)\tCCL                     : REAL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)516","Tag":null,"Text":"(string)\tMaxChargingVolts        : REAL;             // Max charging voltage from BMS"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)486","Tag":null,"Text":"(string)\tReportedMaxACCurr       : WORD;             // Reported AC max current from Brusa"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)508","Tag":null,"Text":"(string)\tCPMaxAmps               : UINT;             // Control pilot allowable current"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)690","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)387","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)449","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)388","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)389","Tag":null,"Text":"(string)VAR_OUTPUT"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)438","Tag":null,"Text":"(string)\tStateDem\t\t        : USINT;           // Charger state request"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)439","Tag":null,"Text":"(string)\tUnlock                  : BOOL;            // Charger unlock"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)440","Tag":null,"Text":"(string)\tErrorClearOut           : BOOL := FALSE;   // Request error clear"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)485","Tag":null,"Text":"(string)\tStopCharging            : BOOL;            // Latch for stop charging request"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)443","Tag":null,"Text":"(string)\tDCHVCurrLimMax\t\t\t: REAL := 0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)444","Tag":null,"Text":"(string)\tACCurrLimMax\t\t\t: REAL := 0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)442","Tag":null,"Text":"(string)\tDCHVVoltLimMax\t\t\t: REAL := 0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)441","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)390","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)391","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)392","Tag":null,"Text":"(string)VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)393","Tag":null,"Text":"(string)\tChargerStates           :\ttUpdate;         // Charger state machine variable"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)526","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)401","Tag":null,"Text":"(string)\tResetCnt                :   BYTE;            // Number of reset attempts"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)674","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)673","Tag":null,"Text":"(string)\tChargeDelayTmr          :   WORD;            // Scan counter to delay start charging "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)527","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)528","Tag":null,"Text":"(string)\tResetOK     \t\t\t:\tBOOL;            // OK to reset"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)641","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)642","Tag":null,"Text":"(string)\tCurrentLimit            :   REAL;            // Maximum allowable current"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)406","Tag":null,"Text":"(string)\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)407","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)408","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)409","Tag":null,"Text":"(string)VAR CONSTANT"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)680","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)410","Tag":null,"Text":"(string)(*Charger control words ============================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)411","Tag":null,"Text":"(string)\tNLG_CONTROL_STANDBY\t\t:\tUSINT\t:=\t0;    // Standby request"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)412","Tag":null,"Text":"(string)\tNLG_CONTROL_CHARGE\t\t:\tUSINT\t:=\t1;\t  // Charge request"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)413","Tag":null,"Text":"(string)\tNLG_CONTROL_SLEEP\t\t:\tUSINT\t:=\t6;    // Sleep request"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)414","Tag":null,"Text":"(string)\tNLG_CONTROL_SNA\t\t\t:\tUSINT\t:=\t7;    "}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)415","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)416","Tag":null,"Text":"(string)(*Charger status words =============================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)417","Tag":null,"Text":"(string)\tNLG_STATUS_SLEEP\t\t:\tUSINT\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)418","Tag":null,"Text":"(string)\tNLG_STATUS_WAKEUP\t\t:\tUSINT\t:=\t1;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)419","Tag":null,"Text":"(string)\tNLG_STATUS_STANDBY\t\t:\tUSINT\t:=\t2;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)420","Tag":null,"Text":"(string)\tNLG_STATUS_READY2CHARGE\t:\tUSINT\t:=\t3;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)421","Tag":null,"Text":"(string)\tNLG_STATUS_CHARGE\t\t:\tUSINT\t:=\t4;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)422","Tag":null,"Text":"(string)\tNLG_STATUS_SHUTDOWN\t\t:\tUSINT\t:=\t5;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)423","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)424","Tag":null,"Text":"(string)(* Case step constants =============================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)425","Tag":null,"Text":"(string)\t_Sleep                  :   BYTE    := 0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)426","Tag":null,"Text":"(string)\t_Standby                :   BYTE \t:= 1;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)427","Tag":null,"Text":"(string)\t_Charging               :   BYTE    := 2;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)428","Tag":null,"Text":"(string)\t_Error                  :   BYTE    := 255;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)429","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)430","Tag":null,"Text":"(string)(* Charger plug in states ==========================================================================*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)431","Tag":null,"Text":"(string)\tCHARGER_DETECTED\t\t:\tBYTE\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)432","Tag":null,"Text":"(string)\tCHARGER_NOTCONNECTED\t:\tBYTE\t:=\t5;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)433","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)434","Tag":null,"Text":"(string)\tPP_32A\t\t\t\t\t:\tBYTE\t:=\t3;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)435","Tag":null,"Text":"(string)\tPP_64A\t\t\t\t\t:\tBYTE\t:=\t4;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)436","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)437","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1","Tag":null,"Text":"(string)"}}]}}}}},"UniqueIdGenerator":"(string)690","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a5de0b0b":"{a5de0b0b-1cb5-4913-ac21-9d70293ec00d}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","long":"System.Int64","string":"System.String"}}},"FormatVersion":"1.0"}