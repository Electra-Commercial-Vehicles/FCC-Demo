{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)8ce760a0-4138-4b03-a0fa-460382dd4260","ParentGuid":"(Guid)72fbbb53-2a88-4ed3-8712-bbc040dc684e","Name":"(string)Sevcon2_Control","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)829a18f2-c514-4f6e-9634-1df173429203","@Value":{"@Type":"829a18f2","@Value":{"ParentObjects":{"@Type":"fa2ee218:IDictionary","@Value":[{"@Key":"(Guid)d9b2b2cc-ea99-4c3b-aa42-1e5c49e65b84","@Value":"(Guid)2f2cd080-92f3-4329-b22c-0563f8edcd88"}]}}}}]},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","829a18f2":"{829a18f2-c514-4f6e-9634-1df173429203}","fa2ee218":"{fa2ee218-a39b-4b6d-b249-49dbddbd168a}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextLines":{"@Type":"[a5de0b0b]","@Value":[{"@Type":"a5de0b0b","@Value":{"Id":"(long)472","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)473","Tag":null,"Text":"(string)(**)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)474","Tag":null,"Text":"(string)(*Check for Comms fault*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)475","Tag":null,"Text":"(string)IF (gu8_SystemState = DRIVE_SYS AND DOS_q_BatteryDischargeMain_DO = TRUE) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)476","Tag":null,"Text":"(string)\tIF (gu8_Sevcon2_InverterStatus = FAULTOFF_STAT OR gu8_Sevcon2_InverterStatus = ACTIVESHORT_STAT) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)477","Tag":null,"Text":"(string)\t\tgu16_Sevcon2_Controlword\t:=\tFAULTRESET_COMM;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)478","Tag":null,"Text":"(string)\tELSIF (gu8_Sevcon2_InverterStatus = NOTREADY_STAT OR gu8_Sevcon2_InverterStatus = SHUTDOWN_STAT) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)479","Tag":null,"Text":"(string)\t\tgu16_Sevcon2_Controlword\t:=\tENERGISE_COMM;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)480","Tag":null,"Text":"(string)\tELSIF (gu8_Sevcon2_InverterStatus = PRECHARGE_STAT) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)481","Tag":null,"Text":"(string)\t\tgu16_Sevcon2_Controlword\t:=\tENERGISE_COMM;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)482","Tag":null,"Text":"(string)\tELSIF (gu8_Sevcon2_InverterStatus = ENERGISED_STAT) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)483","Tag":null,"Text":"(string)\t\tgu16_Sevcon2_Controlword\t:=\tENABLED_COMM;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)484","Tag":null,"Text":"(string)\tELSIF (gu8_Sevcon2_InverterStatus = ENABLED_STAT) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)485","Tag":null,"Text":"(string)\t\tgu16_Sevcon2_Controlword\t:=\tENABLED_COMM; (*Need a way to switch off*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)486","Tag":null,"Text":"(string)\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)487","Tag":null,"Text":"(string)\t\tgu16_Sevcon2_Controlword\t:=\tNOCOMMAND_COMM;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)488","Tag":null,"Text":"(string)\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)489","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)490","Tag":null,"Text":"(string)\tgu16_Sevcon2_Controlword\t:=\tSHUTDOWN_COMM;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)491","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1021","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)492","Tag":null,"Text":"(string)CRT_Timer (IN:= NOT hq_AirCompressorEnable, PT := CRT_Time); //Active when compressor hasnt run"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)493","Tag":null,"Text":"(string)hton_AirPressureDelayTimer(IN := TRUE, PT := T#2000MS);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1023","Tag":null,"Text":"(string)PVCT (IN :=  hq_AirCompressorEnable, PT := PVCT_Time); // Compressor run-on timer"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1022","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)494","Tag":null,"Text":"(string)IF (hton_AirPressureDelayTimer.Q = TRUE) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)495","Tag":null,"Text":"(string)\tIF (gq_APU_Installed = FALSE) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)496","Tag":null,"Text":"(string)\t\tIF \t//(gr_J1939_AirSuspensionSupplyPress > gr_HighAirPressure_CutOff OR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)497","Tag":null,"Text":"(string)\t\t\t(gr_J1939_ServiceBrakeAirPressCircuit1 > gr_HighAirPressure_CutOff OR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)498","Tag":null,"Text":"(string)\t\t\tgr_J1939_ServiceBrakeAirPressCircuit2 > gr_HighAirPressure_CutOff) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)499","Tag":null,"Text":"(string)\t\t\thton_AirPressureExceeded_Timer(IN := TRUE, PT := BlowOffTime);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)500","Tag":null,"Text":"(string)\t\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)501","Tag":null,"Text":"(string)\t\t\thton_AirPressureExceeded_Timer(IN := FALSE, PT := T#1S); //changed from 0 to 2s to increase hysteresis"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)502","Tag":null,"Text":"(string)\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)503","Tag":null,"Text":"(string)\t\tIF (gu8_SystemState = DRIVE_SYS AND DOS_q_BatteryDischargeMain_DO = TRUE AND"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)639","Tag":null,"Text":"(string)\t\t\tNO_OIL = FALSE AND Compressor_Temp_Fault = FALSE) (*AND gq_Bob_AirCompressorStatus_CAN = TRUE)*) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1013","Tag":null,"Text":"(string)\t\t\tIF  (gr_VehicleSpeed_kmph > 5 AND (gr_J1939_ServiceBrakeAirPressCircuit1 < Run_on_Brake_Pressure)) OR // added to increase duty cycle"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1028","Tag":null,"Text":"(string)\t\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1014","Tag":null,"Text":"(string)\t\t\t\t//(PVCT.Q = FALSE AND CRT_Timer.Q = TRUE AND gr_VehicleSpeed_kmph > 2) OR // runs compressor for a time period"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1027","Tag":null,"Text":"(string)\t\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1019","Tag":null,"Text":"(string)\t\t\t\t((gr_J1939_AirSuspensionSupplyPress < gr_LowAirPressure_Intro OR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)505","Tag":null,"Text":"(string)\t\t\t\tgr_J1939_ServiceBrakeAirPressCircuit1 < gr_LowAirPressure_Intro OR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)506","Tag":null,"Text":"(string)\t\t\t\tgr_J1939_ServiceBrakeAirPressCircuit2 < gr_LowAirPressure_Intro) AND"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)507","Tag":null,"Text":"(string)\t\t\t\tgq_DriveMode_CutOff_LowCellV = FALSE) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)508","Tag":null,"Text":"(string)\t\t\t\t\tgu16_Sevcon2_SpeedLimitForward\t:=\t2600; (*Controlling the speed through the limits*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)509","Tag":null,"Text":"(string)\t\t\t\t\thq_AirCompressorEnable\t:=\tTRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)510","Tag":null,"Text":"(string)\t\t\tELSIF ((hton_AirPressureExceeded_Timer.Q = TRUE) OR (gr_VehicleSpeed_kmph > 5 AND (gr_J1939_ServiceBrakeAirPressCircuit1 > Run_on_Brake_Pressure))) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1029","Tag":null,"Text":"(string)\t\t\t\t//(PVCT.Q = TRUE AND CRT_Timer.Q = FALSE AND gr_VehicleSpeed_kmph < 2) THEN // added to increase duty cycle"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)511","Tag":null,"Text":"(string)\t\t\t\tgu16_Sevcon2_SpeedLimitForward\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)512","Tag":null,"Text":"(string)\t\t\t\thq_AirCompressorEnable\t:=\tFALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)513","Tag":null,"Text":"(string)\t\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)514","Tag":null,"Text":"(string)\t\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)515","Tag":null,"Text":"(string)\t\t\tgu16_Sevcon2_SpeedLimitForward\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)516","Tag":null,"Text":"(string)\t\t\thq_AirCompressorEnable\t:=\tFALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)517","Tag":null,"Text":"(string)\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)518","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)519","Tag":null,"Text":"(string)\t(*For Bob possibly use"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)520","Tag":null,"Text":"(string)\t(*gq_Bob_AirCompressorStatus_CAN = FALSE AND hq_AirReliefValveOff = TRUE)*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)521","Tag":null,"Text":"(string)\tSee below for how it was implemented*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)522","Tag":null,"Text":"(string)\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)523","Tag":null,"Text":"(string)\t(*This is needed for when the compressor is being controlled by the APU not yet*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)524","Tag":null,"Text":"(string)\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)525","Tag":null,"Text":"(string)\t\t(*IF (gr_J1939_AirSuspensionSupplyPress > HIGHAIRPRESSURE_BOB AND"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)526","Tag":null,"Text":"(string)\t\t\t(gr_J1939_ServiceBrakeAirPressCircuit1 > HIGHAIRPRESSURE_BOB AND"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)527","Tag":null,"Text":"(string)\t\t\tgr_J1939_ServiceBrakeAirPressCircuit2 > HIGHAIRPRESSURE_BOB))\t\t\t\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)528","Tag":null,"Text":"(string)\t\t\t(*gq_Bob_AirCompressorStatus_CAN = FALSE AND hq_AirReliefValveOff = TRUE)*) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)529","Tag":null,"Text":"(string)\t\t\thton_AirPressureExceeded_Timer(IN := TRUE, PT := T#1000MS);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)530","Tag":null,"Text":"(string)\t\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)531","Tag":null,"Text":"(string)\t\t\thton_AirPressureExceeded_Timer(IN := FALSE, PT := T#0MS);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)532","Tag":null,"Text":"(string)\t\tEND_IF*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)533","Tag":null,"Text":"(string)\t\tIF (gu8_SystemState = DRIVE_SYS AND DOS_q_BatteryDischargeMain_DO = TRUE AND"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)640","Tag":null,"Text":"(string)\t\t\tNO_OIL = FALSE AND Compressor_Temp_Fault = FALSE AND gq_Bob_AirCompressorStatus_CAN = TRUE) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)534","Tag":null,"Text":"(string)\t\t\tIF (gq_Merc_AirComp_Rq = TRUE AND gq_DriveMode_CutOff_LowCellV = FALSE) OR (htof_AirpressureRelief_Timer.ET > APRTimerET) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)535","Tag":null,"Text":"(string)\t\t\t\t\tgu16_Sevcon2_SpeedLimitForward\t:=\t2600; (*Controlling the speed through the limits*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)536","Tag":null,"Text":"(string)\t\t\t\t\thq_AirCompressorEnable\t:=\tTRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)537","Tag":null,"Text":"(string)\t\t\tELSE(*ELSIF (hton_AirPressureExceeded_Timer.Q = TRUE) THEN*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)538","Tag":null,"Text":"(string)\t\t\t\tgu16_Sevcon2_SpeedLimitForward\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)539","Tag":null,"Text":"(string)\t\t\t\thq_AirCompressorEnable\t:=\tFALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)540","Tag":null,"Text":"(string)\t\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)541","Tag":null,"Text":"(string)\t\tELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)542","Tag":null,"Text":"(string)\t\t\tgu16_Sevcon2_SpeedLimitForward\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)543","Tag":null,"Text":"(string)\t\t\thq_AirCompressorEnable\t:=\tFALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)544","Tag":null,"Text":"(string)\t\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)545","Tag":null,"Text":"(string)\t\t(*hq_AirReliefValveOff := gq_Bob_AirCompressorStatus_CAN;*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)546","Tag":null,"Text":"(string)\tEND_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)547","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)548","Tag":null,"Text":"(string)(*gq_Merc_AirComp_Enabled\t:=\thq_AirCompressorEnable;*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)549","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)550","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)551","Tag":null,"Text":"(string)htof_AirpressureRelief_Timer(IN := gq_Merc_AirComp_Rq, PT := AirPressureReliefTime);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)552","Tag":null,"Text":"(string)IF htof_AirpressureRelief_Timer.Q THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)643","Tag":null,"Text":"(string)\thq_AirCompressorEnable\t:=\tTRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)553","Tag":null,"Text":"(string)\t(*(hq_AirCompressorEnable = TRUE AND gs16_Sevcon2_SpeedMeasured < 1000 )) THEN*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)554","Tag":null,"Text":"(string)\tgu16_Sevcon2_SpeedLimitForward\t:=\t2600; (*Controlling the speed through the limits*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)644","Tag":null,"Text":"(string)\thq_AirCompressorEnable\t:=\tTRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)555","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)556","Tag":null,"Text":"(string)\t\t;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)557","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)558","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)559","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)560","Tag":null,"Text":"(string)(*All these are constants to be sent out to the Sevcon unit and do not need changing during operation*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)561","Tag":null,"Text":"(string)IF (gu8_Sevcon2_InverterStatus = ENABLED_STAT) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)562","Tag":null,"Text":"(string)\thton_WindUpTorque_Timer(IN := TRUE, PT := T#5000MS);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)563","Tag":null,"Text":"(string)\tgr_Sevcon2_TorqueRq\t\t\t\t\t\t:=\tTORQUE_RQ * (TIME_TO_REAL(hton_WindUpTorque_Timer.ET) / 5000);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)564","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)565","Tag":null,"Text":"(string)\thton_WindUpTorque_Timer(IN := FALSE, PT := T#0MS);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)566","Tag":null,"Text":"(string)\tgr_Sevcon2_TorqueRq\t\t\t\t\t\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)567","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)568","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)569","Tag":null,"Text":"(string)gr_Sevcon2_DCLink_VoltageTarget\t\t\t:=\t0; (*Not needed as not being used as a generator*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)570","Tag":null,"Text":"(string)gs16_Sevcon2_SpeedLimitReverse\t\t\t:=\tREVERSE_SPD_LIMIT;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)571","Tag":null,"Text":"(string)gu16_Sevcon2_DCLink_ImaxDischarge\t\t:=\tMAX_DISCHARGE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)572","Tag":null,"Text":"(string)gs16_Sevcon2_DCLink_ImaxRecharge\t\t:=\tMAX_CHARGE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)573","Tag":null,"Text":"(string)gr_Sevcon2_TorqueTractionLimit\t\t\t:=\tTRACTION_LIMIT;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)574","Tag":null,"Text":"(string)gr_Sevcon2_TorqueRegenLimit\t\t\t\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)575","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)576","Tag":null,"Text":"(string)gu8_Sevcon2_CSCommand1\t\t\t\t\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)577","Tag":null,"Text":"(string)gu8_Sevcon2_CSCommand2\t\t\t\t\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)578","Tag":null,"Text":"(string)gu8_Sevcon2_CSCurrentLimits\t\t\t\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)579","Tag":null,"Text":"(string)(*Counters to run every cycle and increment so the Sevcons know the VMU is still running*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)580","Tag":null,"Text":"(string)IF (gu8_Sevcon2_SEQCommand1 < 255) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)581","Tag":null,"Text":"(string)\tgu8_Sevcon2_SEQCommand1\t\t\t:=\tgu8_Sevcon2_SEQCommand1 + 1;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)582","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)583","Tag":null,"Text":"(string)\tgu8_Sevcon2_SEQCommand1\t\t\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)584","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)585","Tag":null,"Text":"(string)IF (gu8_Sevcon2_SEQCommand2 < 255) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)586","Tag":null,"Text":"(string)\tgu8_Sevcon2_SEQCommand2\t\t\t:=\tgu8_Sevcon2_SEQCommand2 + 1;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)587","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)588","Tag":null,"Text":"(string)\tgu8_Sevcon2_SEQCommand2\t\t\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)589","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)590","Tag":null,"Text":"(string)IF (gu8_Sevcon2_SEQCurrentLimits < 255) THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)591","Tag":null,"Text":"(string)\tgu8_Sevcon2_SEQCurrentLimits\t:=\tgu8_Sevcon2_SEQCurrentLimits + 1;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)592","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)593","Tag":null,"Text":"(string)\tgu8_Sevcon2_SEQCurrentLimits\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)594","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)595","Tag":null,"Text":"(string)(**************************************************************)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)596","Tag":null,"Text":"(string)hton_Compressor_Oil_Switch(IN:= Low_Oil, PT:= T#2M);"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)597","Tag":null,"Text":"(string)IF Sevcon2_Rx.Compressor_Oil_Switch < 1 (*Rimmed AND gs16_Sevcon2_MotorTemp < Oil_Temp_Setpoint *) AND  gs16_Sevcon2_SpeedMeasured <2000 THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)598","Tag":null,"Text":"(string)\tLow_Oil := FALSE; (*changed due to poor switching*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)599","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)600","Tag":null,"Text":"(string)\tLow_Oil := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)601","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)602","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)603","Tag":null,"Text":"(string)IF hton_Compressor_Oil_Switch.Q THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)604","Tag":null,"Text":"(string)\tNO_OIL := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)605","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)606","Tag":null,"Text":"(string)\tNO_OIL := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)607","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)608","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)609","Tag":null,"Text":"(string)IF hton_Compressor_Oil_Switch.ET > T#30S THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)610","Tag":null,"Text":"(string)\tOil_Level_Warning := TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)611","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)612","Tag":null,"Text":"(string)\tOil_Level_Warning := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)613","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)614","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)615","Tag":null,"Text":"(string)IF gs16_Sevcon2_MotorTemp > Comp_Motor_Temp_SP_Warning THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)616","Tag":null,"Text":"(string)\tCompressor_Temp_Warning\t:= TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)617","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)618","Tag":null,"Text":"(string)\tCompressor_Temp_Warning\t:= FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)619","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)620","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)621","Tag":null,"Text":"(string)IF\tgs16_Sevcon2_MotorTemp > Comp_Motor_Temp_SP_Fault THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)622","Tag":null,"Text":"(string)\tCompressor_Temp_Fault := TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)623","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)624","Tag":null,"Text":"(string)\tCompressor_Temp_fault := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)625","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)626","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)627","Tag":null,"Text":"(string)IF\tSevcon2_Rx.Compressor_Temperature > Air_Temp_SP_Warning THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)628","Tag":null,"Text":"(string)\tAir_Temp_Warning := TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)629","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)630","Tag":null,"Text":"(string)\tAir_Temp_Warning := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)631","Tag":null,"Text":"(string)END_IF"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)632","Tag":null,"Text":"(string)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)633","Tag":null,"Text":"(string)IF\tSevcon2_Rx.Compressor_Temperature > Air_Temp_SP_Fault THEN"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)634","Tag":null,"Text":"(string)\tAir_Temp_Fault := TRUE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)635","Tag":null,"Text":"(string)ELSE"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)636","Tag":null,"Text":"(string)\tAir_Temp_Fault := FALSE;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)9","Tag":null,"Text":"(string)END_IF"}}]}}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextLines":{"@Type":"[a5de0b0b]","@Value":[{"@Type":"a5de0b0b","@Value":{"Id":"(long)1096","Tag":null,"Text":"(string)PROGRAM Sevcon2_Control"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1097","Tag":null,"Text":"(string)VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1098","Tag":null,"Text":"(string)\thton_WindUpTorque_Timer\t:\tTON;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1099","Tag":null,"Text":"(string)\thton_AirPressureExceeded_Timer\t:\tTON;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1100","Tag":null,"Text":"(string)\thtof_AirpressureRelief_Timer\t:\tTOF;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1101","Tag":null,"Text":"(string)\thq_AirCompressorEnable\t:\tBOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1102","Tag":null,"Text":"(string)\thton_AirPressureDelayTimer\t:\tTON;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1103","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1104","Tag":null,"Text":"(string)\thq_AirReliefValveOff : BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1105","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1106","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1107","Tag":null,"Text":"(string)\thton_Compressor_Oil_Switch: TON;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1108","Tag":null,"Text":"(string)\tLow_Oil: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1109","Tag":null,"Text":"(string)\tNO_OIL: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1110","Tag":null,"Text":"(string)\tOil_Temp_Setpoint: BYTE := 30;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1111","Tag":null,"Text":"(string)\tOil_Level_Warning: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1112","Tag":null,"Text":"(string)\tCompressor_Temp_Warning: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1113","Tag":null,"Text":"(string)\tComp_Motor_Temp_SP_Warning: INT := 100; //LM change from 55"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1114","Tag":null,"Text":"(string)\tComp_Motor_Temp_SP_Fault: INT := 120;  //LM change from 65"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1115","Tag":null,"Text":"(string)\tCompressor_Temp_Fault: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1116","Tag":null,"Text":"(string)\tAir_Temp_SP_Warning: INT := 100;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1117","Tag":null,"Text":"(string)\tAir_Temp_SP_Fault: INT := 120;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1118","Tag":null,"Text":"(string)\tAir_Temp_Warning: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1119","Tag":null,"Text":"(string)\tAir_Temp_Fault: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1120","Tag":null,"Text":"(string)\tBlowOffTime: TIME := T#1S;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1121","Tag":null,"Text":"(string)\tAirSuspensionPressure: REAL := 14.9;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1122","Tag":null,"Text":"(string)\tAPRTimerET: TIME := t#0.5s;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1123","Tag":null,"Text":"(string)\tAirPressureReliefTime: TIME := t#1s;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1124","Tag":null,"Text":"(string)\thton_Compressor_Run_Timer: TON;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1125","Tag":null,"Text":"(string)\tCRT_Trigger: BOOL;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1126","Tag":null,"Text":"(string)\tCRT_Time: TIME := t#60s;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1127","Tag":null,"Text":"(string)\tRun_on_Brake_Pressure: REAL := 9.5;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1128","Tag":null,"Text":"(string)\tCRT_Timer: TON;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1129","Tag":null,"Text":"(string)\tPVCT: TON;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1130","Tag":null,"Text":"(string)\tPVCT_Time: TIME := T#60s;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1131","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1132","Tag":null,"Text":"(string)VAR CONSTANT"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1133","Tag":null,"Text":"(string)\t(*Statuswords*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1134","Tag":null,"Text":"(string)\tNOTREADY_STAT\t\t\t\t:\tUSINT\t:=\t1;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1135","Tag":null,"Text":"(string)\tSHUTDOWN_STAT\t\t\t\t:\tUSINT\t:=\t2;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1136","Tag":null,"Text":"(string)\tPRECHARGE_STAT\t\t\t\t:\tUSINT\t:=\t4;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1137","Tag":null,"Text":"(string)\tENERGISED_STAT\t\t\t\t:\tUSINT\t:=\t7;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1138","Tag":null,"Text":"(string)\tENABLED_STAT\t\t\t\t:\tUSINT\t:=\t8;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1139","Tag":null,"Text":"(string)\tFAULTREACTIONACTIVE_STAT\t:\tUSINT\t:=\t11;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1140","Tag":null,"Text":"(string)\tFAULTOFF_STAT\t\t\t\t:\tUSINT\t:=\t13;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1141","Tag":null,"Text":"(string)\tACTIVESHORT_STAT\t\t\t:\tUSINT\t:=\t14;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1142","Tag":null,"Text":"(string)\t(*Commandwords*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1143","Tag":null,"Text":"(string)\tNOCOMMAND_COMM\t\t:\tUSINT\t:=\t0;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1144","Tag":null,"Text":"(string)\tENERGISE_COMM\t\t:\tUSINT\t:=\t3;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1145","Tag":null,"Text":"(string)\tENABLED_COMM\t\t:\tUSINT\t:=\t5;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1146","Tag":null,"Text":"(string)\tSHUTDOWN_COMM\t\t:\tUSINT\t:=\t6;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1147","Tag":null,"Text":"(string)\tFAULTRESET_COMM\t\t:\tUSINT\t:=\t9;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1148","Tag":null,"Text":"(string)\tACTIVESHORT_COMM\t:\tUSINT\t:=\t10;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1149","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1150","Tag":null,"Text":"(string)\t(*LOWAIRPRESSURE\t\t:\tREAL\t:=\t7.2; (*Need to define what the low air pressure value that is reported is*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1151","Tag":null,"Text":"(string)\tHIGHAIRPRESSURE\t\t:\tREAL\t:=\t10;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1152","Tag":null,"Text":"(string)\tLOWAIRPRESSURE_BOB\t\t:\tREAL\t:=\t10; (*Need to define what the low air pressure value that is reported is*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1153","Tag":null,"Text":"(string)\tHIGHAIRPRESSURE_BOB\t\t:\tREAL\t:=\t12.2(*Glider*) (*12.3 for Bob*);*)"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1154","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1155","Tag":null,"Text":"(string)\t"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1156","Tag":null,"Text":"(string)\tTORQUE_RQ\t\t\t:\tUSINT\t:=\t200;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1157","Tag":null,"Text":"(string)\tREVERSE_SPD_LIMIT\t:\tINT\t\t:=\t-500;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1158","Tag":null,"Text":"(string)\tMAX_DISCHARGE\t\t:\tUSINT\t:=\t50;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1159","Tag":null,"Text":"(string)\tMAX_CHARGE\t\t\t:\tSINT\t:=\t-50;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1160","Tag":null,"Text":"(string)\tTRACTION_LIMIT\t\t:\tUSINT\t:=\t100;"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1161","Tag":null,"Text":"(string)END_VAR"}},{"@Type":"a5de0b0b","@Value":{"Id":"(long)1","Tag":null,"Text":"(string)"}}]}}}}},"UniqueIdGenerator":"(string)1161","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a5de0b0b":"{a5de0b0b-1cb5-4913-ac21-9d70293ec00d}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","long":"System.Int64","string":"System.String"}}},"FormatVersion":"1.0"}